



var status = 0;
var item = 
Array(
//-------耳环-------
			

			
			Array(1042177,300,1), //海盗头巾(绿)
			Array(1042176,300,1), //海盗头巾(红)
			Array(1042174,300,1), //海盗头巾(粉)
			Array(1042173,300,1), //海盗头巾(灰)
			Array(1042172,300,1), //海盗头巾(紫)
			
			Array(1042170,100,1), //废报纸头盔
			Array(1042169,300,1), //枫叶帽

			Array(1042169,100,1), //月饼帽
			Array(1042168,100,1), //地球帽
			Array(1042167,100,1), //枫叶面具
			Array(1042166,100,1), //金龙头盔
			Array(1042165,100,1), //永恒冠军盔
			Array(1042164,100,1), //永恒玄妙帽
			Array(1042163,100,1), //永恒霓翎帽
			Array(1042162,100,1), //永恒迷踪帽
			Array(1042161,100,1), //永恒海王星
			Array(1042160,100,1), //重生冠军盔
			Array(1042159,100,1), //重生玄妙帽
			Array(1042158,100,1), //重生霓翎帽
			Array(1042157,100,1), //重生迷踪帽
			Array(1042156,100,1), //重生海王星
			//------披风------
		
			
			Array(1042155,150,1), //永恒定边手套
			Array(1042153,150,1), //永恒逍遥手套
			Array(1042152,150,1), //永恒白云手套
			Array(1042151,150,1), //永恒探云手套
			Array(1042150,150,1), //永恒抚浪手套
			Array(1042154,50,1), //重生定边手套
			Array(1042149,150,1), //重生逍遥手套
			Array(1042147,150,1), //重生白云手套
			Array(1042146,150,1), //重生探云手套
			Array(1042145,150,1), //重生抚浪手套
			

			Array(1042144,120,1), //废报纸卷
		
			Array(1042143,100,1), //烈焰之剑
			Array(1042142,300,1), //枫叶旗
			Array(1042141,300,1), //枫叶旗
		


			Array(1042140,120,1), //燃烧的火焰刀
			Array(1042138,120,1), //枫叶突击剑
			Array(1042127,120,1), //枫叶3年旗
			Array(1042128,120,1), //枫叶庆典旗


			Array(1042129,300,1), //七彩霓虹灯泡
			Array(1042134,100,1), //永恒破甲剑
		
			Array(1042133,300,1), //叉子
			Array(1042132,150,1), //重生破甲剑
			Array(1042131,300,1), //火炬
			Array(1042130,300,1), //鱿鱼剑
			Array(1042126,100,1), //圣诞六翼天使武器(单手剑)
		
		
			Array(1042125,120,1), //永恒断蚺斧
			Array(1042119,150,1), //重生断蚺斧
			Array(1042118,120,1), //圣诞六翼天使武器(单手斧)
			
			Array(1042122,100,1), //米伽勒的平底锅
			
			Array(1042121,300,1), //七夕
			
			
			Array(1042120,300,1), //枫叶3年旗
			Array(1062118,300,1), //粉色花边游泳圈
			Array(1062113,350,1), //永恒惊破天
			Array(1062114,120,1), //重生惊破天

			
			
			Array(1062112,120,1), //永恒狂鲨锯
			Array(1062111,150,1), //永恒断首刃
			Array(1062110,100,1), //重生狂鲨锯
			Array(1062109,150,1), //重生断首刃
		
		
			Array(1062108,300,1), //领路灯
			
		
			Array(1062107,150,1), //毒蘑菇
			Array(1062106,150,1), //香菇
			

			Array(1062105,300,1), //火灵珠长杖
			Array(1062104,300,1), //毒灵珠长杖
			Array(1062103,300,1), //冰灵珠长杖
			Array(1062102,300,1), //雷灵珠长杖
			
			Array(1062101,200,1), //永恒冰轮杖
			Array(1062100,200,1), //重生冰轮杖
			Array(1702303,150,1), //圣诞六翼天使武器(长杖)
			
			Array(1702302,300,1), //白日剑


			
	
			Array(1702301,50,1), //龙背刃

			Array(1702300,300,1), //枫叶3年旗

			Array(1702299,300,1), //南瓜灯笼
			Array(1702298,10,1), //永恒玄冥剑
			Array(1702297,10,1), //重生玄冥剑
			Array(1702296,80,1), //圣诞六翼天使武器(双手剑)
			
	
			Array(1702295,300,1), //炼狱魔龙斧
			Array(1702288,300,1), //枫叶乾坤轮
			Array(1702287,300,1), //枫叶3年旗
			Array(1702285,300,1), //粉色花边游泳圈
			Array(1702284,100,1), //永恒碎鼋斧
			Array(1702283,100,1), //重生碎鼋斧
			Array(1702289,100,1), //圣诞六翼天使武器(双手斧)
			
		
			Array(1702282,300,1), //金龙轰天锤
			Array(1702281,300,1), //枫叶轰天镗
			Array(1702280,100,1), //粉红海豹抱枕
			Array(1702279,100,1), //蓝色海豹抱枕
			Array(1702278,100,1), //枫叶3年旗
			Array(1702277,100,1), //粉色花边游泳圈
			Array(1702276,100,1), //玩具匠人的锤子
			Array(1702275,300,1), //永恒威震天
			Array(1702274,300,1), //重生威震天
			Array(1702273,300,1), //圣诞六翼天使武器(双手钝器)
			

			Array(1702272,300,1), //圣诞树手杖
			Array(1702271,300,1), //永恒显圣枪
			Array(1702270,300,1), //重生显圣枪
			Array(1702269,100,1), //圣诞六翼天使武器(枪)
		
			Array(1702268,100,1), //冻冻鱼
		
			Array(1702266,300,1), //黄拖把
			Array(1702264,300,1), //白拖把
			Array(1702263,300,1), //黑拖把
			Array(1702261,300,1), //黄拖把
			Array(1702260,300,1), //白拖把
			Array(1702252,300,1), //黑拖把
			Array(1702262,150,1) //爱心椅子
);



var mhair = Array(30900, 30910);
function start() {
	status = -1;
	action(1, 0, 0);
}

function action(mode, type, selection) {
	if (mode == -1) {
		cm.dispose();
	} else {
		if (mode == 0) {
			cm.dispose();
			return;
		}
		if (mode == 1)
			status++;
		else
			status--;
		if (status == 0) {
			if (cm.getPlayer().getNX()>=10000) {
var str1 = "";	
           for (var i = 0; i < item.length; i++){
                   str1 += "#v"+item[i][0]+"#";
            }
				cm.sendYesNo("#b#r"+cm.mxdmz()+"冒险岛#b,点卷抽奖猪[每抽1次花费10000点卷].\r\n所有奖品如下#r[真实,无欺骗,60%抽得稀有点装]\r\n[点装会持续增加]:" + str1);
			} else {
var str1 = "\r\n";	
           for (var i = 0; i < item.length; i++){
                   str1 += "#v"+item[i][0]+"#";
            }
				cm.sendOk("#b#r"+cm.mxdmz()+"冒险岛#b,点卷抽奖猪[每抽1次花费10000点卷].\r\n所有奖品如下#r[真实,无欺骗,60%抽得稀有点装]\r\n[点装会持续增加]:" + str1);
				cm.dispose();
			}
		} else if (status == 1){	
			var ii = net.sf.odinms.server.MapleItemInformationProvider.getInstance();
			for(var i = 1;i<=5;i++){
			if(cm.getPlayer().getInventory(net.sf.odinms.client.MapleInventoryType.getByType(i)).isFull()){
			cm.sendOk("您至少应该让所有包裹都空出一格");
			cm.dispose();
			return;
			}
			}
			var chance = Math.floor(Math.random()*500);
			var finalitem = Array();
			for(var i = 0 ;i<item.length;i++){
			if(item[i][1] >= chance){
			finalitem.push(item[i]);
			}
			}
			if(finalitem.length != 0){
			var random = new java.util.Random();
			var finalchance = random.nextInt(finalitem.length);
			var itemId = finalitem[finalchance][0];
			var Laba = finalitem[finalchance][2];
			if(ii.getInventoryType(itemId).getType() == 1){
			var toDrop = ii.randomizeStats(ii.getEquipById(itemId)).copy();
			} else {
			var toDrop = new net.sf.odinms.client.Equip(itemId,0).copy();
			}
			net.sf.odinms.server.MapleInventoryManipulator.addFromDrop(cm.getC(), toDrop,-1);
			if(Laba == 1){
			cm.getC().getChannelServer().getWorldInterface().broadcastMessage(null, net.sf.odinms.tools.MaplePacketCreator.getItemMega(cm.getC().getChannel(),cm.getPlayer().getName() + " : " + "从飞天猪获得！大家一起恭喜他/她吧！！！",toDrop, true).getBytes());
				
			cm.gainNX(-10000);
			cm.getPlayer().saveToDB(true);
			cm.sendOk("非常感谢参加本次系统活动。多多努力。获取更多的礼物吧！");
			cm.dispose();}
			} else {							
			cm.gainNX(-10000);
			cm.getPlayer().saveToDB(true);
			cm.sendOk("欢迎参加本次系统活动。抱歉你这次没有中奖呢!");
			cm.dispose();
			}
		}
	}
}
